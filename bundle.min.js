!function(t){function e(e){for(var i,a,s=e[0],l=e[1],c=e[2],h=0,p=[];h<s.length;h++)a=s[h],Object.prototype.hasOwnProperty.call(n,a)&&n[a]&&p.push(n[a][0]),n[a]=0;for(i in l)Object.prototype.hasOwnProperty.call(l,i)&&(t[i]=l[i]);for(u&&u(e);p.length;)p.shift()();return r.push.apply(r,c||[]),o()}function o(){for(var t,e=0;e<r.length;e++){for(var o=r[e],i=!0,s=1;s<o.length;s++){var l=o[s];0!==n[l]&&(i=!1)}i&&(r.splice(e--,1),t=a(a.s=o[0]))}return t}var i={},n={0:0},r=[];function a(e){if(i[e])return i[e].exports;var o=i[e]={i:e,l:!1,exports:{}};return t[e].call(o.exports,o,o.exports,a),o.l=!0,o.exports}a.m=t,a.c=i,a.d=function(t,e,o){a.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:o})},a.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},a.t=function(t,e){if(1&e&&(t=a(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var o=Object.create(null);if(a.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)a.d(o,i,function(e){return t[e]}.bind(null,i));return o},a.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return a.d(e,"a",e),e},a.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},a.p="";var s=window.webpackJsonp=window.webpackJsonp||[],l=s.push.bind(s);s.push=e,s=s.slice();for(var c=0;c<s.length;c++)e(s[c]);var u=l;r.push([558,1]),o()}({100:function(t,e,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.BOOT_SCENE="BOOT_SCENE",e.START_SCREEN_SCENE="START_SCREEN_SCENE",e.PLAY_SCENE="PLAY_SCENE",e.HUD_SCENE="HUD_SCENE",e.GAME_OVER_SCENE="GAME_OVER_SCENE",e.FISH_SHRINKAGE="FISH_SHRINKAGE",e.LITTLE_FISH_EATEN="LITTLE_FISH_EATEN",e.PLANKTON_EATEN="PLANKTON_EATEN",e.PLAYER_DIES="PLAYER_DIES"},1475:function(t,e,o){"use strict";var i,n=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var a=o(81),s=r(o(1476)),l=r(o(1477)),c=r(o(1478)),u=r(o(1479)),h=r(o(1480)),p=r(o(1481)),d=o(100),_=function(t){function e(){return t.call(this,{key:d.BOOT_SCENE})||this}return n(e,t),e.prototype.preload=function(){this.load.setBaseURL(),this.load.image("logo",s.default),this.load.image("bg-big",c.default),this.load.image("vertical-wall",u.default),this.load.image("horizontal-wall",h.default),this.load.image("plankton",p.default),this.load.spritesheet("fish",l.default,{frameWidth:136,frameHeight:80})},e.prototype.create=function(){this.scene.start(d.PLAY_SCENE)},e}(a.Scene);e.default=_},1476:function(t,e,o){t.exports=o.p+"895ceb8ed81797129ff6372e8e413d1c.png"},1477:function(t,e,o){t.exports=o.p+"a6645ce12f121f7a2ff0c8cdc012a9e1.png"},1478:function(t,e,o){t.exports=o.p+"742b2b99ab68ad5939c93aaf9c61e09d.png"},1479:function(t,e,o){t.exports=o.p+"7c6ad0af069a8952e33d210bf372aab9.png"},1480:function(t,e,o){t.exports=o.p+"daac076bef4fbe26b031830a2bb5b42e.png"},1481:function(t,e,o){t.exports=o.p+"c95ccf41f095f3bf62e0f42c9691e8ec.png"},1482:function(t,e,o){"use strict";var i,n=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)});Object.defineProperty(e,"__esModule",{value:!0});var r,a=o(81),s=o(554),l=o(100),c=o(1485),u=o(556),h=o(266),p=0,d=u.initialGameState,_=[],f=[],E=function(t){function e(){var e=t.call(this,{key:l.PLAY_SCENE})||this;return e.foo=42,e.topHorizontalWall=void 0,e.bottomHorizontalWall=void 0,e.leftVerticalWall=void 0,e.rightVerticalWall=void 0,e.boostable=!0,e.boosting=!1,e}return n(e,t),e.prototype.create=function(){var t=this;this.bg=this.add.image(0,0,"bg-big").setOrigin(0),this.topHorizontalWall=this.physics.add.sprite(0,0,"horizontal-wall").setOrigin(0),this.leftVerticalWall=this.physics.add.sprite(0,0,"vertical-wall").setOrigin(0),this.rightVerticalWall=this.physics.add.sprite(this.bg.width,0,"vertical-wall").setOrigin(0),this.bottomHorizontalWall=this.physics.add.sprite(0,this.bg.height,"horizontal-wall").setOrigin(0),this.topHorizontalWall.setImmovable(!0),this.leftVerticalWall.setImmovable(!0),this.rightVerticalWall.setImmovable(!0),this.bottomHorizontalWall.setImmovable(!0),(r=this.physics.add.sprite(this.game.scale.width/2,this.game.scale.height/2,"fish",2).setOrigin(.5)).body.setSize(r.displayWidth/1.5,r.displayHeight/2);for(var e=0;e<h.INITIAL_ENEMY_FISH;e++){var o=this.physics.add.sprite(50+(this.bg.width-50)*Math.random(),50+(this.bg.height-50)*Math.random(),"fish").setOrigin(.5).setTint(h.PLANKTON_COLORS[Math.floor(Math.random()*h.PLANKTON_COLORS.length)]).setScale(.2+3*Math.random()).setVelocityX(3+5*Math.random());o.body.setSize(o.body.width/1.5,o.body.height/2),o.body.setOffset(o.body.width/4,o.body.height/1.5),f.push(o);var i=25+Math.random()*(this.bg.width-25),n=25+Math.random()*(this.bg.height-25),a=5e3+6*Math.random(),u=5e3+6*Math.random();o.setFlipX(o.x>i),this.tweens.add({targets:o,props:{x:{value:i,duration:a,flipX:!0},y:{value:n,duration:u}},ease:"Sine.easeInOut",yoyo:!0,repeat:-1})}for(e=0;e<h.INITIAL_PLANKTONS;e++){var p=this.physics.add.sprite(50+(this.bg.width-50)*Math.random(),50+(this.bg.height-50)*Math.random(),"plankton").setRotation(2*Math.PI*Math.random()).setTint(h.PLANKTON_COLORS[Math.floor(Math.random()*h.PLANKTON_COLORS.length)]);_.push(p)}this.input.on("pointermove",(function(e){t.pointer=e})),this.spacebarListener=this.input.keyboard.addKey("Space");var d=[this.topHorizontalWall,this.leftVerticalWall,this.bottomHorizontalWall,this.rightVerticalWall];this.physics.add.collider(d,r,void 0,void 0,this),this.physics.add.overlap(_,r,(function(t,e){t.destroy(),s.store.dispatch(c.planktonEaten())}),void 0,this),this.physics.add.overlap(f,r,(function(e,o){e.scale<o.scale?(s.store.dispatch(c.littleFishEaten(e.scale)),e.destroy()):(s.store.dispatch(c.playerDies()),o.destroy(),t.registry.destroy(),t.scene.launch(l.GAME_OVER_SCENE))}),void 0,this),this.cameras.main.setBounds(0,0,this.bg.width,this.bg.height),this.cameras.main.startFollow(r),this.cameras.main.zoom=.5,this.scene.isActive(l.HUD_SCENE)||this.scene.launch(l.HUD_SCENE)},e.prototype.update=function(){var t=this;if(++p,750==p&&(s.store.dispatch(c.shrinkFish()),p=0),h.NEW_PLANKTON_SPAWN_RATE,h.NEW_FISH_SPAWN_RATE,r.body&&void 0!==this.pointer){var e=this.pointer.positionToCamera(this.cameras.main),o=r.body.velocity.x-h.WATER_FRICTION,i=r.body.velocity.y-h.WATER_FRICTION;o<0&&(o=0),i<0&&(i=0),e.x>=r.x+h.MOUSE_X_BUFFER&&(r.flipX=!1,o=(e.x-r.x)/r.scale),e.x<=r.x-h.MOUSE_X_BUFFER&&(o=-1*Math.abs(e.x-r.x)/r.scale,r.flipX=!0),e.y>=r.y+h.MOUSE_Y_BUFFER&&(i=(e.y-r.y)/r.scale*2),e.y<=r.y-h.MOUSE_Y_BUFFER&&(i=-1*Math.abs(e.y-r.y)/r.scale*2),this.spacebarListener.isDown&&(console.log("pressing space!"),!0===this.boostable&&(this.boostable=!1,console.log("old x: ",o),console.log("old x: ",i),this.boosting=!0,setTimeout((function(){console.log("boost has cooled down"),t.boostable=!0}),2e3))),r.body.setVelocityX(o),r.body.setVelocityY(i),r.scale=d.size}},e.prototype.destroy=function(){console.log("destroying!")},e}(a.Scene);e.default=E},1485:function(t,e,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=o(100),n=o(266);e.planktonEaten=function(){var t=n.MIN_PLANKTON_VALUE+Math.floor(Math.random()*(n.MAX_PLANKTON_VALUE-n.MIN_PLANKTON_VALUE));return{type:i.PLANKTON_EATEN,payload:{points:t,sizeMultiplier:1+t/100/3}}},e.littleFishEaten=function(t){var e=Math.max(n.MAX_FISH_VALUE,n.MIN_FISH_VALUE+Math.floor(1+Math.random()*t));return console.log("points from eating little fish: ",e),{type:i.LITTLE_FISH_EATEN,payload:{points:e,sizeMultiplier:1+e/100/3}}},e.playerDies=function(){return{type:i.PLAYER_DIES}},e.shrinkFish=function(){return{type:i.FISH_SHRINKAGE}}},1486:function(t,e,o){"use strict";var i,n=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)});Object.defineProperty(e,"__esModule",{value:!0});var r=o(81),a=o(554),s=o(100),l=function(t){function e(){return t.call(this,{key:s.HUD_SCENE})||this}return n(e,t),e.prototype.preload=function(){},e.prototype.create=function(){var t=this.add.text(10,10,"Score: 0",{fontFamily:'"Roboto Condensed"',fontSize:"35px"}),e=this.add.text(10,50,"Size: 1",{fontFamily:'"Roboto Condensed"',fontSize:"35px"});a.store.subscribe((function(){var o=a.store.getState();t.setText("Score: "+JSON.stringify(o.score)),e.setText("Size: "+o.size.toFixed(2))}))},e}(r.Scene);e.default=l},1487:function(t,e,o){"use strict";var i,n=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)});Object.defineProperty(e,"__esModule",{value:!0});var r=o(81),a=o(100),s=function(t){function e(){return t.call(this,{key:a.GAME_OVER_SCENE})||this}return n(e,t),e.prototype.preload=function(){console.log("game over!")},e.prototype.create=function(){var t=this;this.scene.stop(a.PLAY_SCENE),window.setTimeout((function(){t.scene.start(a.PLAY_SCENE)}),3e3)},e}(r.Scene);e.default=s},266:function(t,e,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MOUSE_X_BUFFER=30,e.MOUSE_Y_BUFFER=13,e.MIN_PLANKTON_VALUE=1,e.MAX_PLANKTON_VALUE=5,e.MIN_FISH_VALUE=3,e.MAX_FISH_VALUE=10,e.INITIAL_PLANKTONS=100,e.INITIAL_ENEMY_FISH=20,e.PLANKTON_COLORS=[16750933,14431975,2048187,1104656,11273991,9250514],e.WATER_FRICTION=2,e.BOOST_DISTANCE=300,e.PLANKTON_GENERATION_RATE=10,e.FISH_SHRINKAGE_SPEED=750,e.NEW_FISH_SPAWN_RATE=750,e.NEW_PLANKTON_SPAWN_RATE=750,e.FISH_SHRINKAGE_FACTOR=.9,e.POINTS_FROM_LITTLE_FISH_FACTOR=.9,e.FISH_SCALE_TO_SIZE_FACTOR=1},554:function(t,e,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=o(555),n=o(1484),r=o(556);e.store=i.createStore(r.gameScoreReducer,n.devToolsEnhancer({}))},556:function(t,e,o){"use strict";var i=this&&this.__assign||function(){return(i=Object.assign||function(t){for(var e,o=1,i=arguments.length;o<i;o++)for(var n in e=arguments[o])Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t}).apply(this,arguments)};Object.defineProperty(e,"__esModule",{value:!0});var n=o(100),r=o(266);e.initialGameState={score:0,size:1},e.gameScoreReducer=function(t,o){switch(void 0===t&&(t=e.initialGameState),console.log("handling an action...",o),o.type){case n.PLANKTON_EATEN:return i(i({},t),{score:t.score+o.payload.points,size:t.size*o.payload.sizeMultiplier});case n.LITTLE_FISH_EATEN:return console.log("little fish action: ",o),i(i({},t),{score:t.score+o.payload.points,size:t.size*o.payload.sizeMultiplier});case n.FISH_SHRINKAGE:return i(i({},t),{size:t.size*r.FISH_SHRINKAGE_FACTOR});case n.PLAYER_DIES:return i(i({},t),{score:0,size:0});default:return t}}},558:function(t,e,o){"use strict";var i=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var o in t)Object.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e.default=t,e},n=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=i(o(81)),a=n(o(1475)),s=n(o(1482)),l=n(o(1486)),c=n(o(1487)),u={type:r.AUTO,parent:"app",width:window.innerWidth,height:3*window.innerWidth/4,backgroundColor:"#2d2d2d",scene:[a.default,s.default,l.default,c.default],physics:{default:"arcade",arcade:{debug:!0}}},h=new r.Game(u);window.game=h}});